(this.webpackJsonpclima=this.webpackJsonpclima||[]).push([[0],{51:function(e,t,c){},73:function(e,t,c){},80:function(e,t,c){},87:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),n=c(26),r=c.n(n),l=c(38),i=c(10),j=c(92),u=c(97),o=c(98),d=c(95),b=c(59),m=c.p+"static/media/userImg.bf28321f.png",O=c(20),x=c.n(O),h=c(29),f=c(9),p=c(46),v=(c(68),c(56));c.n(v).a.config(),p.a.initializeApp({apiKey:"AIzaSyB6cpTq7tMWjb4frg8lDDcXXAeu-EFsbbM",authDomain:"clima-4ee5c.firebaseapp.com",projectId:'"clima-4ee5c",',storageBucket:"clima-4ee5c.appspot.com",messagingSenderId:"453056011935",appId:"1:453056011935:web:8be26b36558da2494e4caa"});var g=p.a.auth(),N=new p.a.auth.GoogleAuthProvider,k=function(){g.signInWithPopup(N).then((function(e){})).catch((function(e){console.log("Error sign in with google: ",e.message)}))},y=function(){g.signOut().then((function(){console.log("logged out")})).catch((function(e){console.log(e.message)}))},S=c(1),C=Object(a.createContext)({user:null});var w=function(e){var t=Object(a.useState)(null),c=Object(f.a)(t,2),s=c[0],n=c[1];return Object(a.useEffect)((function(){return g.onAuthStateChanged(function(){var e=Object(h.a)(x.a.mark((function e(t){var c,a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(c=t.displayName,a=t.email,s=t.photoURL,n({displayName:c,email:a,photoURL:s})):n(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){n(null)}}),[]),Object(S.jsx)(C.Provider,{value:s,children:e.children})};c(73);var E=function(){var e=Object(a.useContext)(C),t=Object(S.jsx)(j.a,{src:"".concat(e?null===e||void 0===e?void 0:e.photoURL:m," "),style:{width:"60px",height:"40px",borderRadius:"50%"}});return Object(S.jsx)(S.Fragment,{children:e?Object(S.jsxs)(u.a,{variant:"dark",bg:"primary",expand:"lg",className:"d-flex justify-content-around",children:[Object(S.jsx)(u.a.Brand,{className:"col col-md-2 col-lg-5",href:"#",children:"Busca el Clima"}),Object(S.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(S.jsx)(u.a.Collapse,{id:"basic-navbar-nav",children:Object(S.jsxs)(o.a,{className:"col-md-12 my-auto d-flex flex-row justify-content-lg-start justify-content-end",children:[Object(S.jsx)(o.a,{className:"welcome col-sm-11 col-md-7 justify-content-md-start col-lg-9 my-md-auto mt-3  navbar-nav text-center",children:e.displayName?"Bienvenido ".concat(e.displayName):"Cargado..."}),Object(S.jsx)(d.a,{title:t,className:"col-md-3 ml-5 my-auto imagen text-center nav-item dropdown",variant:"outline-primary",children:Object(S.jsx)(d.a.Item,{children:Object(S.jsx)(b.a,{className:"ml-3 ml-md-0 my-md-3",variant:"outline-primary",onClick:y,children:"Cerrar sesi\xf3n"})})})]})})]}):Object(S.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary",children:Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsx)("div",{className:"navbar-brand",children:" Busca el Clima"})})})})},A=c(60),I=c.n(A),B=c(93),P=c(94),R=c(99),M=c(62);c(80);function T(){var e=Object(a.useContext)(C),t=Object(a.useState)(null),c=Object(f.a)(t,2),s=c[0],n=c[1];return Object(a.useEffect)((function(){e&&n("/")}),[e]),s?Object(S.jsx)(i.a,{to:s}):Object(S.jsx)(B.a,{children:Object(S.jsx)(P.a,{className:"justify-content-md-center align-items-md-center row-principal",children:Object(S.jsxs)(R.a,{variant:"primary",className:"d-flex flex-column justify-content-center align-items-center py-5",children:[Object(S.jsx)(M.a,{md:12,children:Object(S.jsxs)("h4",{className:"d-flex justify-content-center text-center",children:[" ","Puedes usar esta app para conocer el clima."," "]})}),Object(S.jsx)(M.a,{className:"d-flex justify-content-center mt-4",md:12,children:Object(S.jsx)(I.a,{className:"google-btn",label:"Inicia sesi\xf3n con Google",onClick:k})})]})})})}var q=c(43),D=c(35),F=c(96),G=(c(51),function(e){var t=e.handleSelect,c=e.paises;return c?Object(S.jsx)("div",{className:"col-md-12 mb-4",children:Object(S.jsxs)(F.a.Control,{as:"select",onChange:t,defaultValue:"",children:[Object(S.jsx)("option",{value:"",disabled:!0,children:"-- Seleccione Pa\xeds --"}),null===c||void 0===c?void 0:c.map((function(e,t){return Object(S.jsx)("option",{value:e.cca2,children:e.name.common},t)}))]})}):Object(S.jsx)("div",{className:"col-md-12 mb-3",children:Object(S.jsxs)("div",{className:"sk-circle",children:[Object(S.jsx)("div",{className:"sk-circle1 sk-child"}),Object(S.jsx)("div",{className:"sk-circle2 sk-child"}),Object(S.jsx)("div",{className:"sk-circle3 sk-child"}),Object(S.jsx)("div",{className:"sk-circle4 sk-child"}),Object(S.jsx)("div",{className:"sk-circle5 sk-child"}),Object(S.jsx)("div",{className:"sk-circle6 sk-child"}),Object(S.jsx)("div",{className:"sk-circle7 sk-child"}),Object(S.jsx)("div",{className:"sk-circle8 sk-child"}),Object(S.jsx)("div",{className:"sk-circle9 sk-child"}),Object(S.jsx)("div",{className:"sk-circle10 sk-child"}),Object(S.jsx)("div",{className:"sk-circle11 sk-child"}),Object(S.jsx)("div",{className:"sk-circle12 sk-child"})]})})});function L(e){return U.apply(this,arguments)}function U(){return(U=Object(h.a)(x.a.mark((function e(t){var c,a,s,n,r,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.url,a=t.method,s=void 0===a?"GET":a,n=t.body,r=t.headers,e.prev=1,e.next=4,fetch(c,{method:s,body:n,headers:r});case 4:return l=e.sent,e.abrupt("return",l.json());case 8:e.prev=8,e.t0=e.catch(1),Promise.reject(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var z=function(e){var t=e.loadingClima,c=e.resultClima,s=e.clima,n=Object(a.useState)(null),r=Object(f.a)(n,2),l=r[0],i=r[1],j=Object(a.useState)(null),u=Object(f.a)(j,2),o=u[0],d=u[1],b=Object(a.useState)(null),m=Object(f.a)(b,2),O=m[0],x=m[1],h=Object(a.useState)(null),p=Object(f.a)(h,2),v=p[0],g=p[1],N=Object(a.useState)(null),k=Object(f.a)(N,2),y=k[0],C=k[1],w=Object(a.useState)(!1),E=Object(f.a)(w,2),A=E[0],I=E[1],B=Object(a.useState)(!1),P=Object(f.a)(B,2),M=P[0],T=P[1],q=Object(a.useState)(!1),D=Object(f.a)(q,2),F=D[0],G=D[1],L=Object(a.useState)(!1),U=Object(f.a)(L,2),z=U[0],J=U[1],V=Object(a.useState)(!1),W=Object(f.a)(V,2),X=W[0],_=W[1];Object(a.useEffect)((function(){if(I(!1),s)if("404"===s.cod)I(!0),T("Ciudad no Encontrada"),G(!0),setTimeout((function(){G(!1)}),3e3);else{var e=s.name,t=s.main,c=t.temp,a=t.temp_max,n=t.temp_min,r=s.wind.speed;i(K(c)),d(K(a)),x(K(n)),g(r),C(e),J(!0)}}),[t,s]),Object(a.useEffect)((function(){return z&&_(!0),function(){_(!1),I(null)}}),[z]);var K=function(e){return parseInt(e-273.15)};return c?Object(S.jsx)(S.Fragment,{children:t?Object(S.jsx)("div",{className:"col col-12",children:Object(S.jsxs)("div",{className:"sk-cube-grid mt-md-5 mb-md-5",children:[Object(S.jsx)("div",{className:"sk-cube sk-cube1"}),Object(S.jsx)("div",{className:"sk-cube sk-cube2"}),Object(S.jsx)("div",{className:"sk-cube sk-cube3"}),Object(S.jsx)("div",{className:"sk-cube sk-cube4"}),Object(S.jsx)("div",{className:"sk-cube sk-cube5"}),Object(S.jsx)("div",{className:"sk-cube sk-cube6"}),Object(S.jsx)("div",{className:"sk-cube sk-cube7"}),Object(S.jsx)("div",{className:"sk-cube sk-cube8"}),Object(S.jsx)("div",{className:"sk-cube sk-cube9"})]})}):A?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("h2",{className:"result mt-3 mb-4 mt-md-5 mb-md-5 text-center",children:[" ","Aqui se mostrar\xe1 tu resultado"," "]}),F&&Object(S.jsxs)(R.a,{variant:"danger mt-4 d-flex justify-content-center",children:[" ","Error ",M,"!"]})]}):X&&Object(S.jsxs)("div",{className:"mb-2 col-md-12",children:[Object(S.jsxs)("h2",{className:"result mt-4 text-center",children:[" Clima en ",y]}),Object(S.jsxs)("h1",{className:"result mt-2 d-flex justify-content-center ",children:[l," \u2103"]}),Object(S.jsxs)("h4",{className:"result mt-2 d-flex justify-content-center ",children:["Max: ",o," \u2103"]}),Object(S.jsxs)("h4",{className:"result mt-2 d-flex justify-content-center ",children:["Min: ",O," \u2103"]}),Object(S.jsxs)("h4",{className:"result mt-2 d-flex justify-content-center ",children:["Viento: ",v," km/h"]})]})}):Object(S.jsxs)("h2",{className:"result mt-3 mb-4 mt-md-5 mb-md-5 text-center",children:[" ","Aqui se mostrar\xe1 tu resultado"," "]})};function J(){var e=Object(a.useContext)(C),t=Object(a.useState)(null),c=Object(f.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(null),l=Object(f.a)(r,2),j=l[0],u=l[1],o=Object(a.useState)(!1),d=Object(f.a)(o,2),m=d[0],O=d[1],p=Object(a.useState)({ciudad:"",pais:""}),v=Object(f.a)(p,2),g=v[0],N=v[1],k=Object(a.useState)(!1),y=Object(f.a)(k,2),w=y[0],E=y[1],A=Object(a.useState)(!1),I=Object(f.a)(A,2),B=I[0],P=I[1],M=Object(a.useState)(null),T=Object(f.a)(M,2),U=T[0],J=T[1],V=Object(a.useState)(!1),W=Object(f.a)(V,2),X=W[0],_=W[1],K=Object(a.useState)(!0),H=Object(f.a)(K,2),Q=H[0],Y=H[1];Object(a.useEffect)((function(){e||n("/login")}),[e]),Object(a.useEffect)((function(){return function(){var e=Object(h.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,L({url:"https://restcountries.com/v3.1/all"});case 4:t=e.sent,u(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Algo sali\xf3 mal. Revisa tu conexi\xf3n");case 11:return e.prev=11,O(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}()().catch(null),function(){}}),[]);var Z=function(){var e=Object(h.a)(x.a.mark((function e(){var t,c,a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,t=g.ciudad,c=g.pais,"0eca7da4f9c99ccfa4a6f8100dd392d1",a="https://api.openweathermap.org/data/2.5/weather?q=".concat(t,",").concat(c,"&appid=").concat("0eca7da4f9c99ccfa4a6f8100dd392d1"),e.next=7,L({url:a,method:"get"});case 7:s=e.sent,J(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Algo sali\xf3 mal. Revisa tu conexi\xf3n");case 14:return e.prev=14,E(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return s?Object(S.jsx)(i.a,{to:s}):Object(S.jsx)("div",{className:"dashboard",children:Object(S.jsxs)("div",{className:"row col-md-5 mx-auto d-flex justify-content-center",children:[Object(S.jsx)(z,{loadingClima:w,resultClima:B,clima:U}),Object(S.jsxs)(F.a,{onSubmit:function(e){e.preventDefault(),P(!1);var t=g.ciudad,c=g.pais;""!==t&&""!==c?(P(!0),Z().catch(null)):(_(!0),setTimeout((function(){_(!1)}),3e3)),e.target[0].value="",Y(!0)},children:[Object(S.jsxs)("div",{className:"col-md-12 mb-4",children:[X&&Object(S.jsxs)(R.a,{variant:"danger mt-4 d-flex justify-content-center",children:[" ","Error! completa los campos"]}),Object(S.jsx)("input",{type:"text",placeholder:"Escribe tu Ciudad",className:"form-control",onChange:function(e){""!==e.target.value?(Y(!1),N(Object(D.a)(Object(D.a)({},g),{},Object(q.a)({},e.target.name,e.target.value)))):Y(!0)},name:"ciudad"})]}),Object(S.jsx)(G,{handleSelect:function(e){var t=e.target.value;N(Object(D.a)(Object(D.a)({},g),{},{pais:t}))},paises:j,loadingPaises:m}),Object(S.jsx)("div",{className:"col-md-12 justify-content-center d-flex mb-4",children:Object(S.jsx)(b.a,{type:"submit",variant:"primary",className:"col-md-6 col-12",disabled:Q,children:"Obtener Clima"})})]})]})})}c(86);var V=function(){return Object(S.jsx)(w,{children:Object(S.jsxs)(l.a,{children:[Object(S.jsx)(E,{}),Object(S.jsx)("div",{className:"App",children:Object(S.jsxs)(i.d,{children:[Object(S.jsx)(i.b,{exact:!0,path:"/login",children:Object(S.jsx)(T,{})}),Object(S.jsx)(i.b,{exact:!0,path:"/",children:Object(S.jsx)(J,{})}),Object(S.jsx)(i.a,{from:"/",to:"/login"})]})})]})})};r.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(V,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.ab70465e.chunk.js.map