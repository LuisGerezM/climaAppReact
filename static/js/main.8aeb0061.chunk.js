(this.webpackJsonpclima=this.webpackJsonpclima||[]).push([[0],{51:function(e,t,c){},67:function(e,t,c){},74:function(e,t,c){},81:function(e,t,c){},88:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),n=c(26),l=c.n(n),i=(c(67),c(38)),r=c(10),j=c(93),u=c(98),o=c(99),d=c(96),b=c(59),m=c.p+"static/media/userImg.bf28321f.png",O=c(20),h=c.n(O),x=c(29),f=c(9),p=c(46),v=(c(69),c(56));c.n(v).a.config(),p.a.initializeApp({apiKey:"AIzaSyB6cpTq7tMWjb4frg8lDDcXXAeu-EFsbbM",authDomain:"clima-4ee5c.firebaseapp.com",projectId:'"clima-4ee5c",',storageBucket:"clima-4ee5c.appspot.com",messagingSenderId:"453056011935",appId:"1:453056011935:web:8be26b36558da2494e4caa"});var g=p.a.auth(),k=new p.a.auth.GoogleAuthProvider,y=function(){g.signInWithPopup(k).then((function(e){})).catch((function(e){console.log(e.message)}))},N=function(){g.signOut().then((function(){console.log("logged out")})).catch((function(e){console.log(e.message)}))},S=c(1),C=Object(a.createContext)({user:null});var w=function(e){var t=Object(a.useState)(null),c=Object(f.a)(t,2),s=c[0],n=c[1];return Object(a.useEffect)((function(){return g.onAuthStateChanged(function(){var e=Object(x.a)(h.a.mark((function e(t){var c,a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(c=t.displayName,a=t.email,s=t.photoURL,n({displayName:c,email:a,photoURL:s})):n(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){n(null)}}),[]),Object(S.jsx)(C.Provider,{value:s,children:e.children})};c(74);var E=function(){var e=Object(a.useContext)(C),t=Object(S.jsx)(j.a,{src:"".concat(e?null===e||void 0===e?void 0:e.photoURL:m," "),style:{width:"60px",height:"40px",borderRadius:"50%"}});return Object(S.jsx)(S.Fragment,{children:e?Object(S.jsxs)(u.a,{variant:"dark",bg:"primary",expand:"lg",children:[Object(S.jsx)(u.a.Brand,{className:"col-md-4",href:"#",children:"Busca el Clima"}),Object(S.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(S.jsx)(u.a.Collapse,{id:"basic-navbar-nav",children:Object(S.jsxs)(o.a,{className:"col-md-12 my-auto justify-content-center",children:[Object(S.jsxs)(o.a,{className:"welcome col-md-9 my-md-auto mt-3 justify-content-md-start navbar-nav text-center",children:[" ","Bienvenido ",(null===e||void 0===e?void 0:e.displayName)?e.displayName:"Cargado..."]}),Object(S.jsx)(d.a,{title:t,className:"col-md-2 ml-3 my-auto imagen text-center nav-item dropdown",variant:"outline-primary",children:Object(S.jsx)(d.a.Item,{children:Object(S.jsx)(b.a,{className:"ml-3 ml-md-0 my-md-3",variant:"outline-primary",onClick:N,children:"Cerrar sesi\xf3n"})})})]})})]}):Object(S.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary",children:Object(S.jsx)("div",{className:"container-fluid",children:Object(S.jsx)("div",{className:"navbar-brand",children:" Busca el Clima"})})})})},I=c(60),A=c.n(I),P=c(94),B=c(95),F=c(100),R=c(62);c(81);function T(){var e=Object(a.useContext)(C),t=Object(a.useState)(null),c=Object(f.a)(t,2),s=c[0],n=c[1];return Object(a.useEffect)((function(){e&&n("/")}),[e]),s?Object(S.jsx)(r.a,{to:s}):Object(S.jsx)(P.a,{children:Object(S.jsx)(B.a,{className:"justify-content-md-center align-items-md-center row-principal",children:Object(S.jsxs)(F.a,{variant:"primary",className:"d-flex flex-column justify-content-center align-items-center py-5",children:[Object(S.jsx)(R.a,{md:12,children:Object(S.jsxs)("h4",{className:"d-flex justify-content-center text-center",children:[" ","Puedes usar esta app para conocer el clima."," "]})}),Object(S.jsx)(R.a,{className:"d-flex justify-content-center mt-4",md:12,children:Object(S.jsx)(A.a,{className:"google-btn",label:"Inicia sesi\xf3n con Google",onClick:y})})]})})})}var D=c(43),L=c(35),M=c(97),q=(c(51),function(e){var t=e.handleSelect,c=e.paises;e.loadingPaises;return c?Object(S.jsx)("div",{className:"col-md-12 mb-4",children:Object(S.jsxs)(M.a.Control,{as:"select",onChange:t,children:[Object(S.jsx)("option",{defaultValue:!0,selected:!0,disabled:!0,children:"-- Seleccione Pa\xeds --"}),null===c||void 0===c?void 0:c.map((function(e,t){return Object(S.jsx)("option",{value:e.alpha2Code,children:e.name},t+1)}))]})}):Object(S.jsx)("div",{className:"col-md-9 mb-3",children:Object(S.jsxs)("div",{class:"sk-circle",children:[Object(S.jsx)("div",{class:"sk-circle1 sk-child"}),Object(S.jsx)("div",{class:"sk-circle2 sk-child"}),Object(S.jsx)("div",{class:"sk-circle3 sk-child"}),Object(S.jsx)("div",{class:"sk-circle4 sk-child"}),Object(S.jsx)("div",{class:"sk-circle5 sk-child"}),Object(S.jsx)("div",{class:"sk-circle6 sk-child"}),Object(S.jsx)("div",{class:"sk-circle7 sk-child"}),Object(S.jsx)("div",{class:"sk-circle8 sk-child"}),Object(S.jsx)("div",{class:"sk-circle9 sk-child"}),Object(S.jsx)("div",{class:"sk-circle10 sk-child"}),Object(S.jsx)("div",{class:"sk-circle11 sk-child"}),Object(S.jsx)("div",{class:"sk-circle12 sk-child"})]})})});function U(e){return z.apply(this,arguments)}function z(){return(z=Object(x.a)(h.a.mark((function e(t){var c,a,s,n,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.url,a=t.method,s=t.body,n=t.headers,e.prev=1,e.next=4,fetch(c,{method:a,body:s,headers:n});case 4:return l=e.sent,e.abrupt("return",l.json());case 8:e.prev=8,e.t0=e.catch(1),Promise.reject(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var G=function(e){var t=e.loadingClima,c=e.resultClima,s=e.clima,n=Object(a.useState)(null),l=Object(f.a)(n,2),i=l[0],r=l[1],j=Object(a.useState)(null),u=Object(f.a)(j,2),o=u[0],d=u[1],b=Object(a.useState)(null),m=Object(f.a)(b,2),O=m[0],h=m[1],x=Object(a.useState)(null),p=Object(f.a)(x,2),v=p[0],g=p[1],k=Object(a.useState)(null),y=Object(f.a)(k,2),N=y[0],C=y[1],w=Object(a.useState)(!1),E=Object(f.a)(w,2),I=E[0],A=E[1],P=Object(a.useState)(!1),B=Object(f.a)(P,2),R=B[0],T=B[1],D=Object(a.useState)(!1),L=Object(f.a)(D,2),M=L[0],q=L[1],U=Object(a.useState)(!1),z=Object(f.a)(U,2),G=z[0],J=z[1],V=Object(a.useState)(!1),W=Object(f.a)(V,2),X=W[0],_=W[1];Object(a.useEffect)((function(){if(A(!1),s)if("404"===s.cod)A(!0),T("Ciudad no Encontrada"),q(!0),setTimeout((function(){q(!1)}),3e3);else{console.log("clima:",s);var e=s.name,t=s.main,c=t.temp,a=t.temp_max,n=t.temp_min,l=s.wind.speed;r(K(c)),d(K(a)),h(K(n)),g(l),C(e),J(!0)}}),[t]),Object(a.useEffect)((function(){return G&&_(!0),function(){_(!1),A(null)}}),[G]);var K=function(e){return parseInt(e-273.15)};return c?Object(S.jsx)(S.Fragment,{children:t?Object(S.jsx)("div",{className:"col col-12",children:Object(S.jsxs)("div",{class:"sk-cube-grid mt-md-5 mb-md-5",children:[Object(S.jsx)("div",{class:"sk-cube sk-cube1"}),Object(S.jsx)("div",{class:"sk-cube sk-cube2"}),Object(S.jsx)("div",{class:"sk-cube sk-cube3"}),Object(S.jsx)("div",{class:"sk-cube sk-cube4"}),Object(S.jsx)("div",{class:"sk-cube sk-cube5"}),Object(S.jsx)("div",{class:"sk-cube sk-cube6"}),Object(S.jsx)("div",{class:"sk-cube sk-cube7"}),Object(S.jsx)("div",{class:"sk-cube sk-cube8"}),Object(S.jsx)("div",{class:"sk-cube sk-cube9"})]})}):I?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("h2",{className:"result mt-3 mb-4 mt-md-5 mb-md-5 text-center",children:[" ","Aqui se mostrar\xe1 tu resultado"," "]}),M&&Object(S.jsxs)(F.a,{variant:"danger mt-4 d-flex justify-content-center",children:[" ","Error ",R,"!"]})]}):X&&Object(S.jsxs)("div",{className:"mb-2",children:[Object(S.jsxs)("h2",{className:"result mt-4 text-center",children:[" Clima en ",N]}),Object(S.jsxs)("h1",{className:"result mt-2 d-flex justify-content-center ",children:[i," \u2103"]}),Object(S.jsxs)("h4",{className:"result mt-2 d-flex justify-content-center ",children:["Max: ",o," \u2103"]}),Object(S.jsxs)("h4",{className:"result mt-2 d-flex justify-content-center ",children:["Min: ",O," \u2103"]}),Object(S.jsxs)("h4",{className:"result mt-2 d-flex justify-content-center ",children:["Viento: ",v," km/h"]})]})}):Object(S.jsxs)("h2",{className:"result mt-3 mb-4 mt-md-5 mb-md-5 text-center",children:[" ","Aqui se mostrar\xe1 tu resultado"," "]})};function J(){var e=Object(a.useContext)(C),t=Object(a.useState)(null),c=Object(f.a)(t,2),s=c[0],n=c[1],l=Object(a.useState)(null),i=Object(f.a)(l,2),j=i[0],u=i[1],o=Object(a.useState)(!1),d=Object(f.a)(o,2),m=d[0],O=d[1],p=Object(a.useState)({ciudad:"",pais:""}),v=Object(f.a)(p,2),g=v[0],k=v[1],y=Object(a.useState)(!1),N=Object(f.a)(y,2),w=N[0],E=N[1],I=Object(a.useState)(!1),A=Object(f.a)(I,2),P=A[0],B=A[1],R=Object(a.useState)(!1),T=Object(f.a)(R,2),M=T[0],z=T[1],J=Object(a.useState)(null),V=Object(f.a)(J,2),W=V[0],X=V[1],_=Object(a.useState)(!1),K=Object(f.a)(_,2),H=K[0],Q=K[1],Y=Object(a.useState)(!0),Z=Object(f.a)(Y,2),$=Z[0],ee=Z[1];Object(a.useEffect)((function(){e||n("/login")}),[e]),Object(a.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,U({url:"https://restcountries.eu/rest/v2/all",method:"get"});case 4:t=e.sent,u(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Algo sali\xf3 mal. Revisa tu conexi\xf3n");case 11:return e.prev=11,O(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}})()().catch(null)}),[]),Object(a.useEffect)((function(){var e=g.ciudad,t=g.pais;return""!==e&&""!==t&&function(){var e=Object(x.a)(h.a.mark((function e(){var t,c,a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,t=g.ciudad,c=g.pais,"0eca7da4f9c99ccfa4a6f8100dd392d1",a="https://api.openweathermap.org/data/2.5/weather?q=".concat(t,",").concat(c,"&appid=").concat("0eca7da4f9c99ccfa4a6f8100dd392d1"),e.next=7,U({url:a,method:"get"});case 7:s=e.sent,X(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Algo sali\xf3 mal. Revisa tu conexi\xf3n");case 14:return e.prev=14,B(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}()().catch(null),function(){E(!1),X(null)}}),[w]);return s?Object(S.jsx)(r.a,{to:s}):Object(S.jsx)("div",{className:"dashboard",children:Object(S.jsxs)("div",{className:"row col-md-5 mx-auto d-flex justify-content-center",children:[Object(S.jsx)(G,{loadingClima:P,resultClima:M,clima:W}),Object(S.jsxs)("form",{className:"col col-12 col-md-8 d-flex align-items-center flex-wrap flex-column mt-md-4",onSubmit:function(e){e.preventDefault(),z(!1);var t=g.ciudad,c=g.pais;""!==t&&""!==c?(z(!0),E(!0)):(Q(!0),setTimeout((function(){Q(!1)}),3e3)),e.target[0].value="",ee(!0)},children:[Object(S.jsxs)("div",{className:"col-md-12 mb-4",children:[H&&Object(S.jsxs)(F.a,{variant:"danger mt-4 d-flex justify-content-center",children:[" ","Error! completa los campos"]}),Object(S.jsx)("input",{type:"text",placeholder:"Escribe tu Ciudad",className:"form-control",onChange:function(e){""!==e.target.value?(console.log(e.target.value),ee(!1),k(Object(L.a)(Object(L.a)({},g),{},Object(D.a)({},e.target.name,e.target.value)))):ee(!0)},name:"ciudad"})]}),Object(S.jsx)(q,{handleSelect:function(e){var t=e.target.value;k(Object(L.a)(Object(L.a)({},g),{},{pais:t}))},paises:j,loadingPaises:m}),Object(S.jsx)("div",{className:"col-md-12 justify-content-center d-flex mb-4",children:Object(S.jsx)(b.a,{type:"submit",variant:"primary",className:"col-md-6 col-12",disabled:$,children:"Obtener Clima"})})]})]})})}c(87);var V=function(){return Object(S.jsx)(w,{children:Object(S.jsxs)(i.a,{children:[Object(S.jsx)(E,{}),Object(S.jsx)("div",{className:"App",children:Object(S.jsxs)(r.d,{children:[Object(S.jsx)(r.b,{exact:!0,path:"/login",children:Object(S.jsx)(T,{})}),Object(S.jsx)(r.b,{exact:!0,path:"/",children:Object(S.jsx)(J,{})}),Object(S.jsx)(r.a,{from:"/",to:"/login"})]})})]})})},W=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,101)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,l=t.getTTFB;c(e),a(e),s(e),n(e),l(e)}))};l.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(V,{})}),document.getElementById("root")),W()}},[[88,1,2]]]);
//# sourceMappingURL=main.8aeb0061.chunk.js.map