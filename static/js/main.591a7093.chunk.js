(this.webpackJsonpclima=this.webpackJsonpclima||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(27),i=a.n(s),r=a(38),l=a(10),o=a(106),d=a(111),u=a(112),j=a(109),m=a(61),b=a.p+"static/media/userImg.bf28321f.png",h=a(18),O=a.n(h),x=a(25),f=a(9),p=a(46),v=(a(71),a(58));a.n(v).a.config(),p.a.initializeApp({apiKey:"AIzaSyB6cpTq7tMWjb4frg8lDDcXXAeu-EFsbbM",authDomain:"clima-4ee5c.firebaseapp.com",projectId:'"clima-4ee5c",',storageBucket:"clima-4ee5c.appspot.com",messagingSenderId:"453056011935",appId:"1:453056011935:web:8be26b36558da2494e4caa"});var g=p.a.auth(),N=new p.a.auth.GoogleAuthProvider,k=function(){g.signInWithPopup(N).then((function(e){})).catch((function(e){console.log("Error sign in with google: ",e.message)}))},C=function(){g.signOut().then((function(){console.log("logged out")})).catch((function(e){console.log(e.message)}))},y=function(e){return{displayName:e.displayName,email:e.email,photoURL:e.photoURL}},w=a(1),S=Object(c.createContext)({user:null});var I=function(e){var t=Object(c.useState)(null),a=Object(f.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){return g.onAuthStateChanged(function(){var e=Object(x.a)(O.a.mark((function e(t){var a,c,n,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(a=y(t),c=a.displayName,n=a.email,i=a.photoURL,s({displayName:c,email:n,photoURL:i})):s(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){console.log("desmontando efecto [] - contexto"),s(null)}}),[]),Object(w.jsx)(S.Provider,{value:n,children:e.children})};a(76);var E=function(){var e=Object(c.useContext)(S),t=Object(w.jsx)(o.a,{src:"".concat(e?null===e||void 0===e?void 0:e.photoURL:b," "),style:{width:"60px",height:"40px",borderRadius:"50%"},alt:"User Image"});return Object(w.jsx)(w.Fragment,{children:e?Object(w.jsxs)(d.a,{variant:"dark",bg:"primary",expand:"lg",className:"d-flex justify-content-around",children:[Object(w.jsx)(d.a.Brand,{className:"col col-md-2 col-lg-5",href:"#",children:"Busca el Clima"}),Object(w.jsx)(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(w.jsx)(d.a.Collapse,{id:"basic-navbar-nav",children:Object(w.jsxs)(u.a,{className:"col-md-12 d-flex flex-row justify-content-lg-start justify-content-end",children:[Object(w.jsx)(u.a,{className:"welcome col-sm-11 col-md-7 justify-content-md-start col-lg-9 my-md-auto mt-3  navbar-nav text-center",children:e.displayName?"Bienvenido ".concat(e.displayName):"Cargado..."}),Object(w.jsx)(j.a,{title:t,className:"col-md-3 ml-5 my-auto imagen text-center nav-item dropdown",variant:"outline-primary",children:Object(w.jsx)(j.a.Item,{children:Object(w.jsx)(m.a,{className:"ml-3 ml-md-0 my-md-3",variant:"outline-primary",onClick:C,children:"Cerrar sesi\xf3n"})})})]})})]}):Object(w.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary",children:Object(w.jsx)("div",{className:"container-fluid",children:Object(w.jsx)("div",{className:"navbar-brand",children:" Busca el Clima"})})})})},R=a(113),P=function(){return Object(w.jsxs)("div",{className:"sk-cube-grid mt-md-5 mb-md-5",children:[Object(w.jsx)("div",{className:"sk-cube sk-cube1"}),Object(w.jsx)("div",{className:"sk-cube sk-cube2"}),Object(w.jsx)("div",{className:"sk-cube sk-cube3"}),Object(w.jsx)("div",{className:"sk-cube sk-cube4"}),Object(w.jsx)("div",{className:"sk-cube sk-cube5"}),Object(w.jsx)("div",{className:"sk-cube sk-cube6"}),Object(w.jsx)("div",{className:"sk-cube sk-cube7"}),Object(w.jsx)("div",{className:"sk-cube sk-cube8"}),Object(w.jsx)("div",{className:"sk-cube sk-cube9"})]})},L=function(){return Object(w.jsxs)("h2",{className:"result mt-3 mb-4 mt-md-5 mb-md-5 text-center",children:["Aqui se mostrar\xe1 tu resultado"," "]})},B=function(e){var t=e.weatherInformation,a=t.name,c=t.centigrados,n=t.max,s=t.min,i=t.wind;return Object(w.jsxs)("div",{className:"mb-2 col-md-12",children:[Object(w.jsxs)("h2",{className:"result mt-4 text-center",children:[" Clima en ",a]}),Object(w.jsxs)("h1",{className:"result mt-2 d-flex justify-content-center ",children:[c," \u2103"]}),Object(w.jsxs)("h4",{className:"result mt-2 d-flex justify-content-center ",children:["Max: ",n," \u2103"]}),Object(w.jsxs)("h4",{className:"result mt-2 d-flex justify-content-center ",children:["Min: ",s," \u2103"]}),Object(w.jsxs)("h4",{className:"result mt-2 d-flex justify-content-center ",children:["Viento: ",i," km/h"]})]})},A=function(e){return parseInt(e-273.15)},D=function(e){var t=e.loadingClima,a=e.resultClima,n=function(e){var t=e.loadingClima,a=e.clima,n=Object(c.useState)(null),s=Object(f.a)(n,2),i=s[0],r=s[1],l=Object(c.useState)(!1),o=Object(f.a)(l,2),d=o[0],u=o[1],j=Object(c.useState)(!1),m=Object(f.a)(j,2),b=m[0],h=m[1],O=Object(c.useState)(!1),x=Object(f.a)(O,2),p=x[0],v=x[1],g=Object(c.useState)(!1),N=Object(f.a)(g,2),k=N[0],C=N[1],y=Object(c.useState)(!1),w=Object(f.a)(y,2),S=w[0],I=w[1];return Object(c.useEffect)((function(){if(u(!1),a){var e=a.name,t=a.main,c=t.temp,n=t.temp_max,s=t.temp_min,i=a.wind.speed;r({centigrados:A(c),max:A(n),min:A(s),wind:i,name:e}),C(!0)}else r(null),u(!0),h("Ciudad no Encontrada"),v(!0),setTimeout((function(){v(!1)}),3e3);return function(){h(!1),v(!1)}}),[t,a]),Object(c.useEffect)((function(){return k&&I(!0),function(){I(!1),u(null)}}),[k]),{showError:d,viewAlertError:p,messaggeError:b,showData:S,weatherInformation:i}}({loadingClima:t,clima:e.clima}),s=n.showError,i=n.viewAlertError,r=n.messaggeError,l=n.showData,o=n.weatherInformation;return a?Object(w.jsx)(w.Fragment,{children:t?Object(w.jsx)("div",{className:"col col-12",children:Object(w.jsx)(P,{})}):s?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(L,{}),i&&Object(w.jsxs)(R.a,{variant:"danger mt-4 d-flex justify-content-center",children:["Error ",r,"!"]})]}):l&&Object(w.jsx)(B,{weatherInformation:o})}):Object(w.jsx)(L,{})};function U(e){return T.apply(this,arguments)}function T(){return(T=Object(x.a)(O.a.mark((function e(t){var a,c,n,s,i,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,c=t.method,n=void 0===c?"GET":c,s=t.body,i=t.headers,e.prev=1,e.next=4,fetch(a,{method:n,body:s,headers:i});case 4:return r=e.sent,e.abrupt("return",r.json());case 8:e.prev=8,e.t0=e.catch(1),Promise.reject(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var _=a(62),F=a.n(_),M=function(e){var t=e.icon,a=e.title,c=e.text;F.a.fire({icon:"".concat(t),title:"".concat(a),text:"".concat(c),timer:2500,timerProgressBar:!0})},q=function(e){var t=Object(c.useContext)(S),a=Object(c.useState)(null),n=Object(f.a)(a,2),s=n[0],i=n[1];return Object(c.useEffect)((function(){"dash"!==e||t?"login"===e&&t&&i("/"):i("/login")}),[t,e]),{redirect:s}},z=a(110),G=a(43),J=a(36),V=function(){return Object(w.jsxs)("div",{className:"sk-circle",children:[Object(w.jsx)("div",{className:"sk-circle1 sk-child"}),Object(w.jsx)("div",{className:"sk-circle2 sk-child"}),Object(w.jsx)("div",{className:"sk-circle3 sk-child"}),Object(w.jsx)("div",{className:"sk-circle4 sk-child"}),Object(w.jsx)("div",{className:"sk-circle5 sk-child"}),Object(w.jsx)("div",{className:"sk-circle6 sk-child"}),Object(w.jsx)("div",{className:"sk-circle7 sk-child"}),Object(w.jsx)("div",{className:"sk-circle8 sk-child"}),Object(w.jsx)("div",{className:"sk-circle9 sk-child"}),Object(w.jsx)("div",{className:"sk-circle10 sk-child"}),Object(w.jsx)("div",{className:"sk-circle11 sk-child"}),Object(w.jsx)("div",{className:"sk-circle12 sk-child"})]})},W=function(e){var t=e.handleSelect,a=e.paises;return a?Object(w.jsx)("div",{className:"col-md-12 mb-4",children:Object(w.jsxs)(z.a.Control,{as:"select",onChange:t,defaultValue:"",children:[Object(w.jsx)("option",{value:"",disabled:!0,children:"-- Seleccione Pa\xeds --"}),null===a||void 0===a?void 0:a.map((function(e,t){return Object(w.jsx)("option",{value:e.cca2,children:e.name.common},t)}))]})}):Object(w.jsx)("div",{className:"col-md-12 mb-3",children:Object(w.jsx)(V,{})})},X=function(e){var t=e.valueInput,a=e.handleInputChange,c=e.handleSelect,n=e.paises,s=e.loadingPaises;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"col-md-12 mb-4",children:[t&&Object(w.jsx)(R.a,{variant:"danger mt-4 d-flex justify-content-center",children:"Error! Por favor completa ambos campos..."}),Object(w.jsx)("input",{type:"text",placeholder:"Escribe tu Ciudad",className:"form-control",onChange:a,name:"ciudad"})]}),Object(w.jsx)(W,{handleSelect:c,paises:n,loadingPaises:s})]})},K=function(e){var t=e.paises,a=e.loadingPaises,n=function(e){var t=e.handleLoadingClima,a=e.handleClima,n=e.handleResultClima,s=Object(c.useState)(!1),i=Object(f.a)(s,2),r=i[0],l=i[1],o=Object(c.useState)(!0),d=Object(f.a)(o,2),u=d[0],j=d[1],m=Object(c.useState)({ciudad:"",pais:""}),b=Object(f.a)(m,2),h=b[0],p=b[1],v=function(){var e=Object(x.a)(O.a.mark((function e(){var c,n,s,i,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),e.prev=1,c=h.ciudad,n=h.pais,s="https://api.openweathermap.org/data/2.5/weather?q=".concat(c,",").concat(n,"&appid=").concat("0eca7da4f9c99ccfa4a6f8100dd392d1"),e.next=7,U({url:s,method:"get"});case 7:i=e.sent,r={name:(l=i).name,main:{temp:l.main.temp,temp_max:l.main.temp_max,temp_min:l.main.temp_min},wind:{speed:l.wind.speed}},a(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),M({icon:"error",title:"ERROR",text:"Upsss... Tuvimos problemas para realizar su b\xfasqueda..."});case 15:return e.prev=15,t(),e.finish(15);case 18:case"end":return e.stop()}var l}),e,null,[[1,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return{valueInput:r,disabledBtn:u,handleInputChange:function(e){""!==e.target.value?(j(!1),p(Object(J.a)(Object(J.a)({},h),{},Object(G.a)({},e.target.name,e.target.value)))):j(!0)},handleSelect:function(e){var t=e.target.value;p(Object(J.a)(Object(J.a)({},h),{},{pais:t}))},enviarDatos:function(e){e.preventDefault(),n(!1);var t=h.ciudad,a=h.pais;""!==t&&""!==a?(n(!0),v().catch(null)):(l(!0),setTimeout((function(){l(!1)}),3e3)),e.target[0].value="",j(!0)}}}({handleLoadingClima:e.handleLoadingClima,handleClima:e.handleClima,handleResultClima:e.handleResultClima}),s=n.valueInput,i=n.disabledBtn,r=n.handleInputChange,l=n.handleSelect,o=n.enviarDatos;return Object(w.jsxs)(z.a,{onSubmit:o,children:[Object(w.jsx)(X,{valueInput:s,handleInputChange:r,handleSelect:l,paises:t,loadingPaises:a}),Object(w.jsx)("div",{className:"col-md-12 justify-content-center d-flex mb-4",children:Object(w.jsx)(m.a,{type:"submit",variant:"primary",className:"col-md-6 col-12",disabled:i,children:"Obtener Clima"})})]})};a(91);function H(){var e=function(){var e=Object(c.useState)(!1),t=Object(f.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),i=Object(f.a)(s,2),r=i[0],l=i[1],o=Object(c.useState)(null),d=Object(f.a)(o,2),u=d[0],j=d[1];return{loadingClima:a,resultClima:r,clima:u,handleLoadingClima:function(){return n((function(e){return!e}))},handleClima:function(e){return j(e)},handleResultClima:function(e){return l(e)}}}(),t=e.loadingClima,a=e.resultClima,n=e.clima,s=e.handleLoadingClima,i=e.handleClima,r=e.handleResultClima,o=q("dash").redirect,d=function(){var e=Object(c.useState)(null),t=Object(f.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),i=Object(f.a)(s,2),r=i[0],l=i[1];return Object(c.useEffect)((function(){return function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,U({url:"https://restcountries.com/v3.1/all"});case 4:t=e.sent,n(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),M({icon:"error",title:"ERROR",text:"Upsss... tuvimos problemas"});case 11:return e.prev=11,l(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}()(),function(){n(null)}}),[]),{paises:a,loadingPaises:r}}(),u=d.paises,j=d.loadingPaises;return o?Object(w.jsx)(l.a,{to:o}):Object(w.jsx)("div",{className:"dashboard",children:Object(w.jsxs)("div",{className:"row col-md-5 mx-auto d-flex justify-content-center",children:[Object(w.jsx)(D,{loadingClima:t,resultClima:a,clima:n,handleResultClima:r}),Object(w.jsx)(K,{paises:u,loadingPaises:j,handleLoadingClima:s,handleClima:i,handleResultClima:r})]})})}var Q=a(107),Y=a(108),Z=a(63),$=a(65),ee=a.n($),te=function(){return Object(w.jsx)(Z.a,{className:"d-flex justify-content-center mt-4",md:12,children:Object(w.jsx)(ee.a,{className:"google-btn",label:"Inicia sesi\xf3n con Google",onClick:k})})},ae=function(){return Object(w.jsxs)(R.a,{variant:"primary",className:"d-flex flex-column justify-content-center align-items-center py-5",children:[Object(w.jsx)(Z.a,{md:12,children:Object(w.jsx)("h4",{className:"d-flex justify-content-center text-center",children:"Puedes usar esta app para conocer el clima."})}),Object(w.jsx)(te,{})]})};a(99);function ce(){var e=q("login").redirect;return e?Object(w.jsx)(l.a,{to:e}):Object(w.jsx)(Q.a,{children:Object(w.jsx)(Y.a,{className:"justify-content-center align-items-center row-principal",children:Object(w.jsx)(ae,{})})})}a(100);var ne=function(){return Object(w.jsx)(I,{children:Object(w.jsxs)(r.a,{children:[Object(w.jsx)(E,{}),Object(w.jsxs)(l.d,{children:[Object(w.jsx)(l.b,{exact:!0,path:"/login",children:Object(w.jsx)(ce,{})}),Object(w.jsx)(l.b,{exact:!0,path:"/",children:Object(w.jsx)(H,{})}),Object(w.jsx)(l.a,{from:"/",to:"/login"})]})]})})};i.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(ne,{})}),document.getElementById("root"))},76:function(e,t,a){},91:function(e,t,a){},99:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.591a7093.chunk.js.map